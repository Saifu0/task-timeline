{"ast":null,"code":"export default class Popup {\n  constructor(parent, custom_html) {\n    this.parent = parent;\n    this.custom_html = custom_html;\n    this.make();\n  }\n\n  make() {\n    this.parent.innerHTML = `\n            <div class=\"title\"></div>\n            <div class=\"subtitle\"></div>\n            <div class=\"pointer\"></div>\n        `;\n    this.hide();\n    this.title = this.parent.querySelector('.title');\n    this.subtitle = this.parent.querySelector('.subtitle');\n    this.pointer = this.parent.querySelector('.pointer');\n  }\n\n  show(options) {\n    if (!options.target_element) {\n      throw new Error('target_element is required to show popup');\n    }\n\n    if (!options.position) {\n      options.position = 'left';\n    }\n\n    const target_element = options.target_element;\n\n    if (this.custom_html) {\n      let html = this.custom_html(options.task);\n      html += '<div class=\"pointer\"></div>';\n      this.parent.innerHTML = html;\n      this.pointer = this.parent.querySelector('.pointer');\n    } else {\n      // set data\n      this.title.innerHTML = options.title;\n      this.subtitle.innerHTML = options.subtitle;\n      this.parent.style.width = this.parent.clientWidth + 'px';\n    } // set position\n\n\n    let position_meta;\n\n    if (target_element instanceof HTMLElement) {\n      position_meta = target_element.getBoundingClientRect();\n    } else if (target_element instanceof SVGElement) {\n      position_meta = options.target_element.getBBox();\n    }\n\n    if (options.position === 'left') {\n      this.parent.style.left = position_meta.x + (position_meta.width + 10) + 'px';\n      this.parent.style.top = position_meta.y + 'px';\n      this.pointer.style.transform = 'rotateZ(90deg)';\n      this.pointer.style.left = '-7px';\n      this.pointer.style.top = '2px';\n    } // show\n\n\n    this.parent.style.opacity = 1;\n  }\n\n  hide() {\n    this.parent.style.opacity = 0;\n  }\n\n}","map":{"version":3,"sources":["/home/saifu/Documents/pikkal/timeline/frontend/node_modules/gantt-for-react/node_modules/frappe-gantt/src/popup.js"],"names":["Popup","constructor","parent","custom_html","make","innerHTML","hide","title","querySelector","subtitle","pointer","show","options","target_element","Error","position","html","task","style","width","clientWidth","position_meta","HTMLElement","getBoundingClientRect","SVGElement","getBBox","left","x","top","y","transform","opacity"],"mappings":"AAAA,eAAe,MAAMA,KAAN,CAAY;AACvBC,EAAAA,WAAW,CAACC,MAAD,EAASC,WAAT,EAAsB;AAC7B,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACA,SAAKC,IAAL;AACH;;AAEDA,EAAAA,IAAI,GAAG;AACH,SAAKF,MAAL,CAAYG,SAAZ,GAAyB;AACjC;AACA;AACA;AACA,SAJQ;AAMA,SAAKC,IAAL;AAEA,SAAKC,KAAL,GAAa,KAAKL,MAAL,CAAYM,aAAZ,CAA0B,QAA1B,CAAb;AACA,SAAKC,QAAL,GAAgB,KAAKP,MAAL,CAAYM,aAAZ,CAA0B,WAA1B,CAAhB;AACA,SAAKE,OAAL,GAAe,KAAKR,MAAL,CAAYM,aAAZ,CAA0B,UAA1B,CAAf;AACH;;AAEDG,EAAAA,IAAI,CAACC,OAAD,EAAU;AACV,QAAI,CAACA,OAAO,CAACC,cAAb,EAA6B;AACzB,YAAM,IAAIC,KAAJ,CAAU,0CAAV,CAAN;AACH;;AACD,QAAI,CAACF,OAAO,CAACG,QAAb,EAAuB;AACnBH,MAAAA,OAAO,CAACG,QAAR,GAAmB,MAAnB;AACH;;AACD,UAAMF,cAAc,GAAGD,OAAO,CAACC,cAA/B;;AAEA,QAAI,KAAKV,WAAT,EAAsB;AAClB,UAAIa,IAAI,GAAG,KAAKb,WAAL,CAAiBS,OAAO,CAACK,IAAzB,CAAX;AACAD,MAAAA,IAAI,IAAI,6BAAR;AACA,WAAKd,MAAL,CAAYG,SAAZ,GAAwBW,IAAxB;AACA,WAAKN,OAAL,GAAe,KAAKR,MAAL,CAAYM,aAAZ,CAA0B,UAA1B,CAAf;AACH,KALD,MAKO;AACH;AACA,WAAKD,KAAL,CAAWF,SAAX,GAAuBO,OAAO,CAACL,KAA/B;AACA,WAAKE,QAAL,CAAcJ,SAAd,GAA0BO,OAAO,CAACH,QAAlC;AACA,WAAKP,MAAL,CAAYgB,KAAZ,CAAkBC,KAAlB,GAA0B,KAAKjB,MAAL,CAAYkB,WAAZ,GAA0B,IAApD;AACH,KAnBS,CAqBV;;;AACA,QAAIC,aAAJ;;AACA,QAAIR,cAAc,YAAYS,WAA9B,EAA2C;AACvCD,MAAAA,aAAa,GAAGR,cAAc,CAACU,qBAAf,EAAhB;AACH,KAFD,MAEO,IAAIV,cAAc,YAAYW,UAA9B,EAA0C;AAC7CH,MAAAA,aAAa,GAAGT,OAAO,CAACC,cAAR,CAAuBY,OAAvB,EAAhB;AACH;;AAED,QAAIb,OAAO,CAACG,QAAR,KAAqB,MAAzB,EAAiC;AAC7B,WAAKb,MAAL,CAAYgB,KAAZ,CAAkBQ,IAAlB,GACIL,aAAa,CAACM,CAAd,IAAmBN,aAAa,CAACF,KAAd,GAAsB,EAAzC,IAA+C,IADnD;AAEA,WAAKjB,MAAL,CAAYgB,KAAZ,CAAkBU,GAAlB,GAAwBP,aAAa,CAACQ,CAAd,GAAkB,IAA1C;AAEA,WAAKnB,OAAL,CAAaQ,KAAb,CAAmBY,SAAnB,GAA+B,gBAA/B;AACA,WAAKpB,OAAL,CAAaQ,KAAb,CAAmBQ,IAAnB,GAA0B,MAA1B;AACA,WAAKhB,OAAL,CAAaQ,KAAb,CAAmBU,GAAnB,GAAyB,KAAzB;AACH,KArCS,CAuCV;;;AACA,SAAK1B,MAAL,CAAYgB,KAAZ,CAAkBa,OAAlB,GAA4B,CAA5B;AACH;;AAEDzB,EAAAA,IAAI,GAAG;AACH,SAAKJ,MAAL,CAAYgB,KAAZ,CAAkBa,OAAlB,GAA4B,CAA5B;AACH;;AAlEsB","sourcesContent":["export default class Popup {\n    constructor(parent, custom_html) {\n        this.parent = parent;\n        this.custom_html = custom_html;\n        this.make();\n    }\n\n    make() {\n        this.parent.innerHTML = `\n            <div class=\"title\"></div>\n            <div class=\"subtitle\"></div>\n            <div class=\"pointer\"></div>\n        `;\n\n        this.hide();\n\n        this.title = this.parent.querySelector('.title');\n        this.subtitle = this.parent.querySelector('.subtitle');\n        this.pointer = this.parent.querySelector('.pointer');\n    }\n\n    show(options) {\n        if (!options.target_element) {\n            throw new Error('target_element is required to show popup');\n        }\n        if (!options.position) {\n            options.position = 'left';\n        }\n        const target_element = options.target_element;\n\n        if (this.custom_html) {\n            let html = this.custom_html(options.task);\n            html += '<div class=\"pointer\"></div>';\n            this.parent.innerHTML = html;\n            this.pointer = this.parent.querySelector('.pointer');\n        } else {\n            // set data\n            this.title.innerHTML = options.title;\n            this.subtitle.innerHTML = options.subtitle;\n            this.parent.style.width = this.parent.clientWidth + 'px';\n        }\n\n        // set position\n        let position_meta;\n        if (target_element instanceof HTMLElement) {\n            position_meta = target_element.getBoundingClientRect();\n        } else if (target_element instanceof SVGElement) {\n            position_meta = options.target_element.getBBox();\n        }\n\n        if (options.position === 'left') {\n            this.parent.style.left =\n                position_meta.x + (position_meta.width + 10) + 'px';\n            this.parent.style.top = position_meta.y + 'px';\n\n            this.pointer.style.transform = 'rotateZ(90deg)';\n            this.pointer.style.left = '-7px';\n            this.pointer.style.top = '2px';\n        }\n\n        // show\n        this.parent.style.opacity = 1;\n    }\n\n    hide() {\n        this.parent.style.opacity = 0;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}