{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { GoogleSpreadsheet } from 'google-spreadsheet'; // console.log(process.env.REACT_APP_SPREADSHEET_ID,process.env.REACT_APP_CLIENT_EMAIL,process.env.REACT_APP_PRIVATE_KEY)\n\nconst SPREADSHEET_ID = process.env.REACT_APP_SPREADSHEET_ID;\nconst SHEET_ID = 0;\nconst CLIENT_EMAIL = process.env.REACT_APP_CLIENT_EMAIL;\nconst PRIVATE_KEY = process.env.REACT_APP_PRIVATE_KEY;\nconsole.log(SPREADSHEET_ID, CLIENT_EMAIL, PRIVATE_KEY);\nconst doc = new GoogleSpreadsheet(SPREADSHEET_ID);\nexport const appendSpreadsheet = async row => {\n  _s();\n\n  try {\n    await doc.useServiceAccountAuth({\n      client_email: CLIENT_EMAIL,\n      private_key: PRIVATE_KEY\n    }); // loads document properties and worksheets\n\n    await doc.loadInfo();\n    const sheet = doc.sheetsById[SHEET_ID];\n    const result = await sheet.addRow(row);\n  } catch (e) {\n    console.log('Error: ', e);\n  }\n};\n\n_s(appendSpreadsheet, \"XzZzjmf42T4ghIIVsLcPZIIQRXQ=\", false, function () {\n  return [doc.useServiceAccountAuth];\n});\n\nexport const getSpreadsheet = async () => {\n  _s2();\n\n  try {\n    await doc.useServiceAccountAuth({\n      client_email: CLIENT_EMAIL,\n      private_key: PRIVATE_KEY\n    }); // loads document properties and worksheets\n\n    await doc.loadInfo();\n    const sheet = doc.sheetsById[SHEET_ID];\n    return await sheet.getRows();\n  } catch (e) {\n    console.log('Error: ', e.message);\n  }\n};\n\n_s2(getSpreadsheet, \"XzZzjmf42T4ghIIVsLcPZIIQRXQ=\", false, function () {\n  return [doc.useServiceAccountAuth];\n});","map":{"version":3,"sources":["/home/saifu/Documents/pikkal/saifur-timeline/src/data/GoogleSheetAPI.js"],"names":["GoogleSpreadsheet","SPREADSHEET_ID","process","env","REACT_APP_SPREADSHEET_ID","SHEET_ID","CLIENT_EMAIL","REACT_APP_CLIENT_EMAIL","PRIVATE_KEY","REACT_APP_PRIVATE_KEY","console","log","doc","appendSpreadsheet","row","useServiceAccountAuth","client_email","private_key","loadInfo","sheet","sheetsById","result","addRow","e","getSpreadsheet","getRows","message"],"mappings":";;;AAAA,SAAQA,iBAAR,QAAgC,oBAAhC,C,CAEA;;AAEA,MAAMC,cAAc,GAAGC,OAAO,CAACC,GAAR,CAAYC,wBAAnC;AACA,MAAMC,QAAQ,GAAG,CAAjB;AACA,MAAMC,YAAY,GAAGJ,OAAO,CAACC,GAAR,CAAYI,sBAAjC;AACA,MAAMC,WAAW,GAAGN,OAAO,CAACC,GAAR,CAAYM,qBAAhC;AAEAC,OAAO,CAACC,GAAR,CAAYV,cAAZ,EAA2BK,YAA3B,EAAwCE,WAAxC;AAEA,MAAMI,GAAG,GAAG,IAAIZ,iBAAJ,CAAsBC,cAAtB,CAAZ;AAEA,OAAO,MAAMY,iBAAiB,GAAG,MAAOC,GAAP,IAAe;AAAA;;AAC5C,MAAI;AACF,UAAMF,GAAG,CAACG,qBAAJ,CAA0B;AAC9BC,MAAAA,YAAY,EAAEV,YADgB;AAE9BW,MAAAA,WAAW,EAAET;AAFiB,KAA1B,CAAN,CADE,CAKF;;AACA,UAAMI,GAAG,CAACM,QAAJ,EAAN;AAEA,UAAMC,KAAK,GAAGP,GAAG,CAACQ,UAAJ,CAAef,QAAf,CAAd;AACA,UAAMgB,MAAM,GAAG,MAAMF,KAAK,CAACG,MAAN,CAAaR,GAAb,CAArB;AAED,GAXD,CAWE,OAAOS,CAAP,EAAU;AACVb,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBY,CAAvB;AACD;AACF,CAfI;;GAAMV,iB;UAEDD,GAAG,CAACG,qB;;;AAehB,OAAO,MAAMS,cAAc,GAAG,YAAY;AAAA;;AACtC,MAAI;AACF,UAAMZ,GAAG,CAACG,qBAAJ,CAA0B;AAC9BC,MAAAA,YAAY,EAAEV,YADgB;AAE9BW,MAAAA,WAAW,EAAET;AAFiB,KAA1B,CAAN,CADE,CAKF;;AACA,UAAMI,GAAG,CAACM,QAAJ,EAAN;AAEA,UAAMC,KAAK,GAAGP,GAAG,CAACQ,UAAJ,CAAef,QAAf,CAAd;AACA,WAAO,MAAMc,KAAK,CAACM,OAAN,EAAb;AACD,GAVD,CAUE,OAAOF,CAAP,EAAU;AACVb,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBY,CAAC,CAACG,OAAzB;AACD;AACF,CAdI;;IAAMF,c;UAEDZ,GAAG,CAACG,qB","sourcesContent":["import {GoogleSpreadsheet} from 'google-spreadsheet';\n\n// console.log(process.env.REACT_APP_SPREADSHEET_ID,process.env.REACT_APP_CLIENT_EMAIL,process.env.REACT_APP_PRIVATE_KEY)\n\nconst SPREADSHEET_ID = process.env.REACT_APP_SPREADSHEET_ID;\nconst SHEET_ID = 0;\nconst CLIENT_EMAIL = process.env.REACT_APP_CLIENT_EMAIL;\nconst PRIVATE_KEY = process.env.REACT_APP_PRIVATE_KEY;\n\nconsole.log(SPREADSHEET_ID,CLIENT_EMAIL,PRIVATE_KEY);\n\nconst doc = new GoogleSpreadsheet(SPREADSHEET_ID);\n\nexport const appendSpreadsheet = async (row) => {\n    try {\n      await doc.useServiceAccountAuth({\n        client_email: CLIENT_EMAIL,\n        private_key: PRIVATE_KEY,\n      });\n      // loads document properties and worksheets\n      await doc.loadInfo();\n  \n      const sheet = doc.sheetsById[SHEET_ID];\n      const result = await sheet.addRow(row);\n\n    } catch (e) {\n      console.log('Error: ', e);\n    }\n  };\n\nexport const getSpreadsheet = async () => {\n    try {\n      await doc.useServiceAccountAuth({\n        client_email: CLIENT_EMAIL,\n        private_key: PRIVATE_KEY,\n      });\n      // loads document properties and worksheets\n      await doc.loadInfo();\n  \n      const sheet = doc.sheetsById[SHEET_ID];\n      return await sheet.getRows();\n    } catch (e) {\n      console.log('Error: ', e.message);\n    }\n  };\n\n"]},"metadata":{},"sourceType":"module"}